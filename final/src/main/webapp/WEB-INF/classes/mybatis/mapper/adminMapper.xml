<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="adminMain">
	<select id="joinCount" parameterType="String" resultType="Integer">
		SELECT NVL(COUNT(*), 0)
		FROM member
		WHERE mRole >= 1 AND TO_CHAR(createdDate, 'yyyy-mm-dd') = '${cDate}'
	</select>
	
	<select id="salesSum" parameterType="String" resultType="Integer">
		SELECT NVL(SUM(sTotPrice), 0)
		FROM store
		WHERE TO_CHAR(sDate, 'yyyy-mm-dd') = '${sDate}'	
	</select>
	
	<select id="joinTot" parameterType="String" resultType="Integer">
		SELECT NVL(COUNT(*), 0)
		FROM member
		WHERE mRole >= 1 AND TO_CHAR(createdDate, 'yyyy-mm-dd') BETWEEN ('${sDate}') AND ('${eDate}')
	</select>
	
	<select id="salesTot" parameterType="String" resultType="Integer">
        SELECT NVL(SUM(sTotPrice), 0)
		FROM store
		WHERE TO_CHAR(sDate, 'yyyy-mm-dd') BETWEEN ('${sDate}') AND ('${eDate}')
	</select>
	
	<select id="reservPet" parameterType="String" resultType="Integer">
        SELECT NVL(COUNT(*),0)
		FROM reservation
		WHERE TO_CHAR(rDate, 'yyyy-mm-dd') BETWEEN ('${sDate}') AND ('${eDate}')
	</select>
</mapper>